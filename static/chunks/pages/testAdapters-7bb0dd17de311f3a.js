(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{5620:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/testAdapters",function(){return r(55540)}])},55540:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return W}});var a=r(7297),t=r(29815),s=r(85893),o=r(67294),i=r(47568),c=r(26042),u=r(69396),d=r(828),l=r(70655),m=r(47787),h=r(36911),p=r(14924),f=r(96486),E=r(9279),b=r(44868),I={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:1,name:"Ethereum",symbol:"ETH",logoURI:(0,b.jG)("ethereum"),decimals:18},_={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:56,name:"Binance",symbol:"BNB",logoURI:(0,b.jG)("binance"),decimals:18},v={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:42161,name:"Ethereum",symbol:"ETH",logoURI:(0,b.jG)("ethereum"),decimals:18},A={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:10,name:"Ethereum",symbol:"ETH",logoURI:(0,b.jG)("ethereum"),decimals:18},N={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:66,name:"OKX",symbol:"OKX",logoURI:(0,b.jG)("okexchain"),decimals:18},y={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:288,logoURI:(0,b.jG)("ethereum"),name:"Ethereum",symbol:"ETH",decimals:18},g={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:16666e5,logoURI:(0,b.jG)("harmony"),decimals:18,name:"Harmony",symbol:"ONE"},R={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:128,logoURI:(0,b.jG)("heco"),name:"Huobi Token",symbol:"HT"},G={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:106,logoURI:(0,b.jG)("velas"),name:"Velas",symbol:"VLX"},j={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:24462,name:"Oasis",symbol:"ROSE",logoURI:(0,b.jG)("oasis"),decimals:18},T={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:199,name:"BitTorrent",logoURI:(0,b.jG)("bittorrent"),symbol:"BTT",decimals:18},F={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:1285,name:"MoonRiver",logoURI:(0,b.jG)("moonriver"),symbol:"MOVR",decimals:18},M={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:1284,name:"Moonbeam",logoURI:(0,b.jG)("moonbeam"),symbol:"GLMR",decimals:18},X={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:122,name:"Fuse",logoURI:(0,b.jG)("fuse"),symbol:"FUSE",decimals:18},S={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:2e3,name:"Doge",symbol:"DOGE",decimals:18,logoURI:(0,b.jG)("dogechain")},Z={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:25,name:"Cronos",symbol:"CRO",logoURI:(0,b.jG)("cronos"),decimals:18},U={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:42220,name:"Celo",symbol:"CELO",logoURI:(0,b.jG)("celo"),decimals:18},k={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:1313161554,name:"Ethereum",symbol:"ETH",logoURI:(0,b.jG)("ethereum"),decimals:18},w={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:43114,logoURI:(0,b.jG)("avalanche"),name:"Avalanche",symbol:"AVAX",decimals:18},x={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:8217,name:"Klaytn",symbol:"KLAY",logoURI:(0,b.jG)("klaytn"),decimals:18},C={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:250,logoURI:(0,b.jG)("fantom"),name:"Fantom",symbol:"FTM",decimals:18},P={mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:100,name:"xDai",symbol:"xDai",logoURI:(0,b.jG)("gnosis"),decimals:18},O=[I,v,_,A,{mcap:Number.MAX_SAFE_INTEGER,address:E.d,chainId:137,name:"Matic",symbol:"MATIC",logoURI:(0,b.jG)("polygon"),decimals:18},j,C,G,g,P,x,w,k,Z,U,S,F,T,R,y,N,M,X],D={1:(0,p.Z)({},"0xB8c77482e45F1F44dE1745F52C74426C631bDD52".toLowerCase(),!0)},B={ethereum:1,bsc:56,polygon:137,optimism:10,arbitrum:42161,avax:43114,gnosis:100,fantom:250,klaytn:8217};function H(){return L.apply(this,arguments)}function L(){return L=(0,i.Z)((function(){var e,n,r,a,s,o,m,h,p,E,b;return(0,l.__generator)(this,(function(I){switch(I.label){case 0:return[4,Promise.all(Object.values(B).map(function(){var e=(0,i.Z)((function(e){return(0,l.__generator)(this,(function(n){return[2,fetch("https://tokens.1inch.io/v1.1/".concat(e)).then((function(e){return e.json()}))]}))}));return function(n){return e.apply(this,arguments)}}()))];case 1:return e=I.sent(),[4,Promise.all([fetch("https://tokens.uniswap.org/").then((function(e){return e.json()})),fetch("https://token-list.sushi.com/").then((function(e){return e.json()})),fetch("https://li.quest/v1/tokens").then((function(e){return e.json()})),fetch("https://api.coingecko.com/api/v3/coins/list?include_platform=false").then((function(e){return e.json()}))])];case 2:for(var _ in n=d.Z.apply(void 0,[I.sent(),4]),r=n[0],a=n[1],s=n[2],o=n[3],m=Object.values(B).map((function(n,r){return Object.values(e[r]).map((function(e){return(0,u.Z)((0,c.Z)({},e),{chainId:n})}))})).flat(),h=(0,f.mapValues)((0,f.merge)((0,f.groupBy)((0,t.Z)(m).concat((0,t.Z)(a.tokens),(0,t.Z)(r.tokens),(0,t.Z)(O)),"chainId"),s.tokens),(function(e){return(0,f.uniqBy)(e,(function(e){return e.address.toLowerCase()}))})),p=(0,f.mapValues)(h,(function(e,n){return e.filter((function(e){var r;return!(null===(r=D[n])||void 0===r?void 0:r[e.address.toLowerCase()])}))})),E={},p)E[_]=p[_].map((function(e){var n;return(0,u.Z)((0,c.Z)({},e),{label:e.symbol,value:e.address,geckoId:o&&null!==(b=null===(n=null===o||void 0===o?void 0:o.find((function(n){return n.symbol===e.symbol.toLowerCase()})))||void 0===n?void 0:n.id)&&void 0!==b?b:null})}));return E[66][0].logoURI=E[66][1].logoURI,[2,{props:{tokenlist:E},revalidate:300}]}}))})),L.apply(this,arguments)}var V=r(2593),K=r(35324),q=[];function z(){return new Promise((function(e){q.push(e)}))}function $(){var e=q.shift();void 0!==e&&e(null)}function Q(){return Q=(0,i.Z)((function(e){var n,r;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:return n=(0,h.Mk)().map((function(e){return e.value})),[4,H()];case 1:return r=a.sent().props.tokenlist,setTimeout((function(){return new Array(5).fill(null).map($)}),1e3),[4,Promise.all(n.map(function(){var n=(0,i.Z)((function(n){var a,t,s,o,p,f;return(0,l.__generator)(this,(function(b){switch(b.label){case 0:return void 0===(a=r[m.zk[n]])?(console.warn("There's no tokenlist for ".concat(n)),[2]):(t=(0,d.Z)(a,3),t[0],s=t[1],o=t[2],p=O.find((function(e){return e.chainId===m.zk[n]})),f=[[p,s],[o,p],[s,o]],[4,Promise.all(f.map(function(){var r=(0,i.Z)((function(r){var a;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return a=[E.d,"0x000000000000000000000000000000000000dEaD"],[4,Promise.all(a.map(function(){var a=(0,i.Z)((function(a){var t,s,o,d,m,p;return(0,l.__generator)(this,(function(f){switch(f.label){case 0:return[4,z()];case 1:return f.sent(),t="100000000000000000000",s=r[0],o=r[1],d={gasPriceData:{gasPrice:V.O$.from("0x05d21dba00")},userAddress:a,amount:t,fromToken:s,toToken:o,slippage:1,isPrivacyEnabled:!1},[4,Promise.all(h.j$.filter((function(e){return void 0!==e.chainToId[n]})).map(function(){var r=(0,i.Z)((function(r){var i,m;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:i={chain:n,from:s.symbol,to:o.symbol,userAddress:a===E.d,privacy:d.isPrivacyEnabled,adapter:r.name},l.label=1;case 1:return l.trys.push([1,6,,7]),d.isPrivacyEnabled?[4,(0,K.T)(r.name,n,s.address,o.address,t,d)]:[3,3];case 2:return m=l.sent(),[3,5];case 3:return[4,r.getQuote(n,s.address,o.address,t,(0,c.Z)({},d))];case 4:m=l.sent(),l.label=5;case 5:return Number(m.estimatedGas)<1e3&&"CowSwap"!==r.name&&e((0,u.Z)((0,c.Z)({},i),{price:m,success:"gas"})),[2,{price:m,adapter:r.name,testParams:i}];case 6:return l.sent(),e((0,u.Z)((0,c.Z)({},i),{success:"x"})),console.error("Failed to get data for ".concat(r.name," on ").concat(n)),[3,7];case 7:return[2]}}))}));return function(e){return r.apply(this,arguments)}}()))];case 2:return m=f.sent().filter((function(e){return void 0!==e})),(p=function(n){if(!(m.length<2)){var r=m.sort((function(e,r){return r.price[n]-e.price[n]})),a=Math.round(m.length/2),t=Number(r[a].price[n]);m.forEach((function(r){if("estimatedGas"!==n||"CowSwap"!==r.adapter){var a=Number(r.price[n]);a<.8*t&&e((0,u.Z)((0,c.Z)({},r.testParams),{success:n,value:a,median:t,drop:100*(t-a)/t}))}}))}})("amountReturned"),p("estimatedGas"),$(),[2]}}))}));return function(e){return a.apply(this,arguments)}}()))];case 1:return t.sent(),[2]}}))}));return function(e){return r.apply(this,arguments)}}()))]);case 1:return b.sent(),[2]}}))}));return function(e){return n.apply(this,arguments)}}()))];case 2:return a.sent(),[2]}}))})),Q.apply(this,arguments)}function Y(){var e=(0,a.Z)(["\nth, td {\n\tpadding-left: 3em;\n  }\n  th {\n\tpadding: 3em;\n  }\n"]);return Y=function(){return e},e}var J=r(92506).ZP.table.withConfig({componentId:"sc-f951b887-0"})(Y());function W(e){var n=(0,o.useState)([]),r=n[0],a=n[1],i=function(e){r.push(e),a((0,t.Z)(r))};return(0,o.useEffect)((function(){!function(e){Q.apply(this,arguments)}(i)}),[]),(0,s.jsxs)(J,{children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:["Adapter","Chain","Connected","From","To","Failure","Value","Median","Drop"].map((function(e){return(0,s.jsx)("th",{children:e},e)}))})}),(0,s.jsx)("tbody",{children:r.map((function(e,n){var r=e.adapter,a=e.chain,t=e.userAddress,o=e.from,i=e.to,c=e.success,u=e.value,d=e.median,l=e.drop;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:r}),(0,s.jsx)("td",{children:a}),(0,s.jsx)("td",{children:t?"yes":"x"}),(0,s.jsx)("td",{children:o}),(0,s.jsx)("td",{children:i}),(0,s.jsx)("td",{children:c}),(0,s.jsx)("td",{children:u}),(0,s.jsx)("td",{children:d}),(0,s.jsx)("td",{children:l})]},n)}))})]})}}},function(e){e.O(0,[662,848,320,774,888,179],(function(){return n=5620,e(e.s=n);var n}));var n=e.O();_N_E=n}]);